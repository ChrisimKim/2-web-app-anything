{% extends 'base.html' %}

{% block container %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/track.css') }}">

<main class="track-page">
    <h1>Track Applications</h1>
    <form method="POST" class="search-form" action="/track">
        <input type="text" name="search" placeholder="Search by..." class="search-input">
        <select name="status" id="status" class="filter-dropdown">
            <optgroup label="Status">
                <option value="Applied">Applied</option>
                <option value="Interviewing">Interviewing</option>
                <option value="Rejected">Rejected</option>
            </optgroup>
            <optgroup label="Date">
                <option value="ascending">Most recent (default)</option>
                <option value="descending">Least recent</option>
            </optgroup>
        </select>
        <button type="submit" class="search-btn">Search</button>
    </form>

    <div class="table-container">
        <table class="app-table">
            <thead>
                <tr>
                    <th></th>
                    <th>Company</th>
                    <th>Role</th>
                    <th>Status</th>
                    <th>Date</th>
                </tr>
            </thead>
            <tbody>
                {% for app in applications %}
                <tr>
                    <td class="search-icon">üîç</td>
                    <td class="company">{{ app.company }}</td>
                    <td class="role">{{ app.role }}</td>
                    <td class="status">{{ app.status }}</td>
                    <td class="date">{{ app.date }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</main>
{% endblock %}
